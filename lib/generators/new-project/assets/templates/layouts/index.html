<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>{{projectName}}</title>
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="/stylesheets/bootstrap-responsive.css">
	<link rel="stylesheet" href="/stylesheets/bootstrap.css">
	<link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
<div id="container" class="container">
	<header></header>
  <div id = "main" role="main"></div>
	<footer></footer>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
var require = function() {
var global = window
/*!
 * Require functions by TJ Holowaychuk <tj@learnboost.com>
 */


//addition of node_modules support by Zach Smith
var getNodeModule = function(parent, path) {
  var dirs = parent.split('/')
    , module
    , i

  //remove the filename
  dirs.pop()

  while(dirs.length) {
    module = require.resolve(dirs.join("/") + "/node_modules/" + path)
    if(require.modules[module]) {
      return module
    } 
    dirs.pop()
  }
  //not a node module
  return false
}
 
/**
 * Require the given path.
 *
 * @param {String} path
 * @return {Object} exports
 * @api public
 */

function require(p) {
  var path = require.resolve(p)
    , mod = require.modules[path];
  if (!mod) {
    //try once more HACK for if we're requireing from the main scope
    //we only need to look for node_modules in the root dir, since
    //thats the only kind we can require from the main scope
    path = getNodeModule("/", path)
    if(path) {
      mod = require.modules[path]
    } else {
      var error = new Error('failed to require "' + p + '"') 
      error.requireError = true
      throw error
    }
  }
  if (!mod.exports) {
    mod.exports = {};
    mod.call(mod.exports, mod, mod.exports, require.relative(path), global);
  }
  return mod.exports;
}

/**
 * Registered modules.
 */

require.modules = {};

/**
 * Resolve `path`.
 *
 * @param {String} path
 * @return {Object} module
 * @api public
 */

require.resolve = function(path){
  var orig = path
    , reg = path + '.js'
    , index = path + '/index.js';
  return require.modules[reg] && reg
    || require.modules[index] && index
    || orig;
};

/**
 * Register module at `path` with callback `fn`.
 *
 * @param {String} path
 * @param {Function} fn
 * @api public
 */

require.register = function(path, fn){
  require.modules[path] = fn;
};



/**
 * Return a require function relative to the `parent` path.
 *
 * @param {String} parent
 * @return {Function}
 * @api private
 */

require.relative = function(parent) {
  return function(p) {
    try {
      if ('.' != p.charAt(0) && '/' != p.charAt(0)) {
        var nodeModule = getNodeModule(parent, p)
        if(nodeModule) {
          return require(nodeModule)
        }
      }
      if ('.' != p.charAt(0)) return require(p);

      var path = parent.split('/')
        , segs = p.split('/');
      path.pop();

      for (var i = 0; i < segs.length; i++) {
        var seg = segs[i];
        if ('..' == seg) path.pop();
        else if ('.' != seg) path.push(seg);
      }

      return require(path.join('/'));
    } catch (e) {
      //add the file from which this is being required
      //parentRequire neccesary, otherwise w add a message for
      //what module required it's parent and so on all the way up
      if(e.requireError && !e.parentRequire) {
        e.parentRequire = parent
        e.message = e.message + " from module \"" + parent + "\""
      }
      throw e
    }
  };
}; 

return require
}()

process = {}
process.nextTick = function(cb) {
  setTimeout(cb, 0)
}
process.platform = "browser"
</script>
<!--SCRIPTTAGS-->
<script>

!function() {
  var _ = require("underscore")
  require.register("jquery", function(module) { module.exports = $ })
  window.socket = io.connect("http://" + document.location.hostname)
  window.socket.on("StylesheetChange", function() {
    var rand = '?d=' + (new Date).getTime()
      , oldTag = $('link[href*="/stylesheets/style.css"]')
      , newTag = $('<link rel="stylesheet" href="/stylesheets/style.css' + rand + '">')
    newTag.insertAfter(oldTag)
    newTag.on("load", function() {
      oldTag.remove()
    })
  })

  var navigate = require("LiveController/lib/live_controller").navigate

  var url = document.location.pathname
  _(require.modules).each(function(module, path) {
    if(path.match(/\/app\/controllers\//i)) {
      //load them for their side effects
      require(path)
    }
  })
  navigate(url)
}()  
  
</script>
<!--[if lt IE 7 ]>
	<script src="//ajax.googleapis.com/ajax/libs/crome-frame/1.0.2/CFInstall.min.js"></script>
	<script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script>
<![endif]-->
</body>
</html> 
